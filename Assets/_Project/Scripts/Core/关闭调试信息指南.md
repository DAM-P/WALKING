# 关闭调试信息指南

## 🎯 快速关闭所有调试 GUI（3 种方法）

---

## 方法 1：使用全局调试控制器（推荐⭐）

### 步骤

```
1. Hierarchy → Create Empty → 命名为 "DebugController"
2. Add Component → "Global Debug Controller"
3. 右键组件 → "关闭所有调试"
```

### 或使用快捷键

```
进入 Play 模式
按 F12 键 → 一键关闭所有调试
```

### 效果

- ✅ 关闭所有调试 GUI 面板
- ✅ 关闭所有调试日志
- ✅ 禁用所有调试组件

---

## 方法 2：手动禁用组件

### 查找所有调试组件

```
Hierarchy 窗口搜索：
- "SelectionDebugTool"
- "InputModeDebugTool"
- "RaycastDebugger"
- "SelectionAutoFix"
- "InputModeCoordinator"
- "SelectionTester"
- "StageManagerTester"
```

### 禁用方法

```
1. 选中组件所在的 GameObject
2. Inspector → 取消勾选组件前的复选框
```

---

## 方法 3：删除调试组件（不推荐）

```
1. 选中带有调试组件的 GameObject
2. 右键组件 → Remove Component
```

⚠️ **注意**：删除后如果需要调试会比较麻烦

---

## 📋 调试组件列表

### 当前项目中的调试组件

| 组件名称 | 功能 | 位置 | 默认状态 |
|---------|------|------|----------|
| **ExtendInputManager** | 拉伸输入调试 | 拉伸系统 | ✅ 已关闭 |
| **InputModeDebugTool** | 输入模式诊断 | Tools/Debug | ✅ 已关闭 |
| **InputModeCoordinator** | 输入协调器调试 | Tools/AutoFix | ✅ 已关闭 |
| **RaycastDebugger** | 射线检测调试 | Tools/Debug | ✅ 已关闭 |
| **SelectionDebugTool** | 选择系统诊断 | Tools/Debug | 需手动禁用 |
| **SelectionAutoFix** | 自动修复调试 | Tools/AutoFix | 需手动禁用 |
| **SelectionTester** | 选择测试器 | Tools/Tester | 需手动禁用 |
| **StageManagerTester** | 关卡测试器 | Tools/Tester | 需手动禁用 |

---

## 🔍 检查是否已关闭

### 进入 Play 模式后检查

如果屏幕上没有以下任何面板，说明已成功关闭：

- ❌ "拉伸输入" 面板（左侧）
- ❌ "射线检测调试器" 面板（左上角）
- ❌ "选择系统诊断" 面板（右上角）
- ❌ "输入模式诊断" 面板（右侧）
- ❌ "输入模式协调器" 面板（右下角）
- ❌ "全局调试控制" 面板（右上角）

---

## ⚙️ 调试开关说明

### ExtendInputManager

```csharp
[Header("调试")]
public bool showDebugLog = false; // 关闭日志和 GUI
```

**位置**：拉伸系统的 GameObject 上

**功能**：
- 显示拉伸模式/移动模式
- 显示选中 Entity 信息
- 显示操作提示

### InputModeDebugTool

```csharp
[Header("Debug Settings")]
public bool enableDetailedLog = false; // 关闭详细日志
public bool showGUI = false;           // 关闭 GUI 面板
```

**功能**：
- 点击统计
- 成功率显示
- 组件状态检查

### RaycastDebugger

```csharp
[Header("Settings")]
public bool enableDebug = false; // 总开关
```

**功能**：
- 射线可视化
- 命中信息显示
- 调试面板

---

## 🎮 运行时切换调试

### 使用快捷键（如果添加了 GlobalDebugController）

```
F12 → 切换所有调试开关
```

### 使用 Inspector（Play 模式下）

```
1. 选中带有调试组件的 GameObject
2. 勾选/取消勾选 "Show Debug Log" 或 "Enable Debug"
3. 实时生效
```

---

## 📝 开发建议

### 开发阶段

```
✅ 保留调试组件（enabled = false）
✅ 需要时快速启用
✅ 使用 F12 快速切换
```

### 发布阶段

```
1. 删除所有 Tools/Debug 下的组件
2. 删除所有 Tools/Tester 下的组件
3. 保留 Tools/AutoFix（可能有用）
4. 或使用 #if UNITY_EDITOR 包裹调试代码
```

---

## 🔧 永久移除调试组件

### 如果确定不需要调试功能

#### 方案 A：删除脚本文件

```
删除以下文件夹：
- Assets/_Project/Scripts/Core/Authoring/Tools/Debug/
- Assets/_Project/Scripts/Core/Authoring/Tools/Tester/

⚠️ 注意：会删除所有调试工具
```

#### 方案 B：使用条件编译

```csharp
#if UNITY_EDITOR
    void OnGUI()
    {
        // 调试 GUI 代码
    }
#endif
```

**优点**：
- ✅ 编辑器中可用
- ✅ 打包时自动排除
- ✅ 不影响开发

---

## ✅ 验证清单

运行游戏时检查：

- [ ] 屏幕左侧无 GUI 面板
- [ ] 屏幕右侧无 GUI 面板
- [ ] Console 无多余调试日志
- [ ] 性能正常（FPS 正常）
- [ ] 游戏功能正常

---

## 💡 常见问题

### Q1: 关闭调试后游戏不能正常运行？

**A**: 调试组件不影响核心功能，检查是否误关了核心组件：
- `CubeSelectionManager` ✅ 必须保留
- `ExtendInputManager` ✅ 必须保留
- `InputModeCoordinator` ✅ 必须保留（如果使用）

### Q2: 想临时启用调试怎么办？

**A**: 
```
方法 1: 按 F12 键（如果有 GlobalDebugController）
方法 2: Inspector 中勾选 "Enable Debug" 或 "Show Debug Log"
方法 3: 右键组件 → 勾选 enabled
```

### Q3: 哪些组件可以安全删除？

**A**: 
```
✅ 可以删除：
- SelectionDebugTool
- SelectionTester
- InputModeDebugTool
- RaycastDebugger
- StageManagerTester

⚠️ 谨慎删除：
- SelectionAutoFix（自动修复可能有用）
- InputModeCoordinator（输入模式管理，可能需要）

❌ 不要删除：
- CubeSelectionManager
- ExtendInputManager
- StageManager
```

---

## 🎯 推荐配置

### 开发时

```
GlobalDebugController: enableAllDebug = false
ExtendInputManager: showDebugLog = false
所有 Debug 工具: enabled = false（保留但不启用）
```

### 测试时

```
需要时按 F12 临时启用
或勾选特定组件的调试开关
```

### 发布时

```
删除所有 Debug 和 Tester 组件
或使用条件编译确保不会被打包
```

---

**创建时间**：2025-10-24  
**相关组件**：8 个调试组件  
**推荐方法**：使用 GlobalDebugController + F12 快捷键



